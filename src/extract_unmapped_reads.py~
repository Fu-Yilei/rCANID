import pysam, sys

def load_alignment(path):
	print path
	samfile = pysam.AlignmentFile(path)
	for read in samfile.fetch():
		print read.query_name, read.flag
		break
def parse_alignment(path):
	file = open(path, 'r')
	for line in file:
		seq = line.strip('\n').split('\t')
		if seq[0][0] == '@':
			continue

		print seq[0]

		read_name = seq[0]
		read_flag = seq[1]
		read_seq = seq[9]
		read_qual = seq[10]

		if read_flag == '4':
			print read_name
			print read_seq
			print '+'
			print read_qual
	file.close()

if __name__ == '__main__':
	parse_alignment(sys.argv[1])
